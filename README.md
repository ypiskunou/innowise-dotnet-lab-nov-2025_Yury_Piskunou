# InnoShop - Microservices E-Commerce API

–£—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –≤ —Ä–∞–º–∫–∞—Ö —Å—Ç–∞–∂–∏—Ä–æ–≤–∫–∏ .NET. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –¥–≤–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ (**UserService** –∏ **ProductService**) –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∫–∞—Ç–∞–ª–æ–≥–æ–º —Ç–æ–≤–∞—Ä–æ–≤.

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### üë§ UserService (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏)
*   **Auth:** –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (JWT Access Token).
*   **Security:** –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π, –∑–∞—â–∏—Ç–∞ —Ä–æ–ª—è–º–∏ (Admin/User).
*   **Email:** –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ —á–µ—Ä–µ–∑ –ø–æ—á—Ç—É (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MailHog).
*   **Admin:** –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (Soft Delete) –∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
*   **API:** –ü–∞–≥–∏–Ω–∞—Ü–∏—è, –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

### üì¶ ProductService (–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤)
*   **CRUD:** –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞–º–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏.
*   **Smart Search:** –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã (–Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–¥–∞–ª–µ–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã).
*   **Admin Features:**
    *   –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫—Ä—ã—Ç–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –ø—Ä–∏ –±–∞–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
    *   –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –ø—Ä–∏ —Ä–∞–∑–±–∞–Ω–µ.
    *   –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–∫—Ä—ã—Ç—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ (—Ä–µ–∂–∏–º "–ë–æ–≥–∞" –¥–ª—è –∞–¥–º–∏–Ω–∞).
*   **API:** –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ü–µ–Ω–µ/–∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é.

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

*   **.NET 7** (ASP.NET Core Web API)
*   **Entity Framework Core** (Code First, Migrations)
*   **PostgreSQL** (—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö)
*   **MediatR** (CQRS –ø–∞—Ç—Ç–µ—Ä–Ω)
*   **AutoMapper** (–º–∞–ø–ø–∏–Ω–≥ –æ–±—ä–µ–∫—Ç–æ–≤)
*   **FluentValidation** (–≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö + Pipeline Behavior)
*   **NLog** (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª—ã)
*   **Docker & Docker Compose** (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è)
*   **xUnit + Moq + FluentAssertions** (Unit-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

## üê≥ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω. –î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ **Docker Desktop**.

1.  –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
    ```bash
    git clone https://github.com/ypiskunou/innowise-dotnet-lab-nov-2025_Yury_Piskunou.git
    cd Inno_Shop
    ```

2.  –ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ Docker Compose:
    ```bash
    docker-compose up --build
    ```

3.  –î–æ–∂–¥–∏—Ç–µ—Å—å —Å—Ç–∞—Ä—Ç–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.
    *   –ú–∏–≥—Ä–∞—Ü–∏–∏ –∏ –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (Seed Data) –Ω–∞–∫–∞—Ç—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ.

## üîó –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º

| –°–µ—Ä–≤–∏—Å | –ê–¥—Ä–µ—Å (Swagger) | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| **User Service** | [http://localhost:5001/swagger](http://localhost:5001/swagger) | –ü–æ—Ä—Ç 5001 |
| **Product Service** | [http://localhost:5002/swagger](http://localhost:5002/swagger) | –ü–æ—Ä—Ç 5002 |
| **MailHog** | [http://localhost:8025](http://localhost:8025) | –õ–æ–∫–∞–ª—å–Ω—ã–π –ø–æ—á—Ç–æ–≤—ã–π —è—â–∏–∫ |

## üîë –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (Credentials)

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç –Ω–∞–ø–æ–ª–Ω–µ–Ω–∞ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏:

### üëë –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
*   **Email:** `admin@example.com`
*   **Password:** `admin`
*   *–†–æ–ª—å:* Admin, User
*   *–°—Ç–∞—Ç—É—Å:* –ê–∫—Ç–∏–≤–µ–Ω

### üë§ –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
*   **Email:** `user@example.com`
*   **Password:** `user`
*   *–†–æ–ª—å:* User
*   *–°—Ç–∞—Ç—É—Å:* –ê–∫—Ç–∏–≤–µ–Ω

### üö´ –ó–∞–±–∞–Ω–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–¥–ª—è —Ç–µ—Å—Ç–æ–≤)
*   **Email:** `volchkov@inno.by`
*   **Password:** `notnA123`
*   *–†–æ–ª—å:* User
*   *–°—Ç–∞—Ç—É—Å:* **–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω** (–ï–≥–æ —Ç–æ–≤–∞—Ä—ã —Å–∫—Ä—ã—Ç—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞)

## üß™ –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1.  **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:**
    *   –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ `POST /api/users/register`.
    *   –ó–∞–π–¥–∏—Ç–µ –≤ MailHog ([localhost:8025](http://localhost:8025)).
    *   –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å—Å—ã–ª–∫—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤ –ø–∏—Å—å–º–µ.
    *   –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ª–æ–≥–∏–Ω–∏—Ç—å—Å—è.

2.  **–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤ (–†–∞–∑–±–∞–Ω):**
    *   –ó–∞–π–¥–∏—Ç–µ –ø–æ–¥ –ê–¥–º–∏–Ω–æ–º (`admin@example.com`).
    *   –ù–∞–π–¥–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `volchkov@inno.by` (–æ–Ω —Å–µ–π—á–∞—Å –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω).
    *   –í—ã–∑–æ–≤–∏—Ç–µ `PUT /api/users/{id}/activate` (–†–∞–∑–±–∞–Ω–∏—Ç—å).
    *   –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ ProductService ‚Äî —Ç–æ–≤–∞—Ä—ã —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Test Phone") –ø–æ—è–≤—è—Ç—Å—è –≤ –≤—ã–¥–∞—á–µ.

3.  **–ü–æ–∏—Å–∫ –∏ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:**
    *   –ü–æ–ø—Ä–æ–±—É–π—Ç–µ `GET /api/products?searchTerm=asus`
    *   –ü–æ–ø—Ä–æ–±—É–π—Ç–µ `GET /api/products?minPrice=500&maxPrice=1500`